<% if current_user %>
<% if !current_user.admin? %>

<div class = "well">
	<h4>Queuing Rules</h4>

	<p>Please observe the following simple rules while using the queue, for your sake and for others:</p>

	<ol>
		<li>Please be present when you add yourself to the queue. This tool is designed to help with in-person office hours, which implies that you are already there. Please don’t add yourself because you anticipate that you might get there before you are called. Be at the room you indicate when you add yourself to the queue.</li>

		<li>When your name is called, you must be in the location you specified when you added yourself to the queue! If you aren’t, whoever is running the queue is within their right to make you re-queue. Everyone else is also waiting, so please be courteous to your fellow queuemates!</li>

		<li>Please be prepared for when your name is eventually called. Make sure you are able to give the staff member who eventually helps you enough information for your exchange to be as efficient as possible. You might want to have some notes available to help you be able to give them enough information for them to be able to truly understand your problem and start coming up with solutions.</li>
	</ol>

	<p>If you follow those simple guidelines, everything should go smoothly. Good luck! - Jamie</p>

</div>



<div class = "well">
	<h4>Your Demonstrators today are...</h4>
	<ul>
		<li><b>Head Demonstrator 		: </b> Mario Kolberg</li>
		<li><b>Demonstrator #1			: </b> Jamie Johnston</li>
	</ul>
</div>

<%end%>
<%end%>

<% if !current_user %>

<div class = "well">
	<h4><img height="20" width="20" src="https://cdn2.iconfinder.com/data/icons/freecns-cumulus/32/519791-101_Warning-256.png"> Please sign in to enter the queue...</h4>
</div>
<!--
<div class = "well">
	<h4>Queuing Rules</h4>

	<p>Please observe the following simple rules while using the queue, for your sake and for others:</p>

	<ol>
		<li>Please be present when you add yourself to the queue. This tool is designed to help with in-person office hours, which implies that you are already there. Please don’t add yourself because you anticipate that you might get there before you are called. Be at the room you indicate when you add yourself to the queue.</li>

		<li>When your name is called, you must be in the location you specified when you added yourself to the queue! If you aren’t, whoever is running the queue is within their right to make you re-queue. Everyone else is also waiting, so please be courteous to your fellow queuemates!</li>

		<li>Please be prepared for when your name is eventually called. Make sure you are able to give the staff member who eventually helps you enough information for your exchange to be as efficient as possible. You might want to have some notes available to help you be able to give them enough information for them to be able to truly understand your problem and start coming up with solutions.</li>
	</ol>

	<p>If you follow those simple guidelines, everything should go smoothly. Good luck! - Jamie</p>

</div>



<div class = "well">
	<h4>Your Demonstrators today are...</h4>
	<ul>
		<li><b>Head Demonstrator 		: </b> Mario Kolberg</li>
		<li><b>Demonstrator #1			: </b> Jamie Johnston</li>
	</ul>
</div>
-->
<%end%>

<% if current_user %>
<% if current_user.admin? %>


	<div class = "well">
		<h4>Demonstrating Today:</h4>
		<ul>
			<li><b>Head Demonstrator 		: </b> Mario Kolberg</li>
			<li><b>Demonstrator #1			: </b> Jamie Johnston</li>
		</ul>
	</div>

	<div class = "well">
		<h4><u>Admin Control Panel</u></h4>

	<br>

	<%= form_for :post, url: home_path do |f| %>
	<button type="button" class="btn btn-primary btn-lg btn-block" id="open" onclick="openit()"">Open Queue</button>
	<button type="button" class="btn btn-secondary btn-lg btn-block" id="close" onclick="closeit()">Close Queue</button>

	<% end %>
	</div>

<%end%>
<%end%>


<div id="queue">

<table class="table">
  <thead class="thead-dark">
    <tr>
      <th scope="col">ID</th>
      <th scope="col">Status</th>
      <th scope="col">User</th>
      <th scope="col">Name</th>
      <th scope="col">Problem</th>
      <th scope="col">More</th>
      <% if current_user %>
		<% if current_user.admin? %>
			<th>Admin Actions</th>
		<%end%>
	  <%end%>
    </tr>
  </thead>

  <tbody>


			<% @posts.each do |post| %>
			<tr>
					<td><%= post.id %></td>
					<td>Waiting...</td>
					<td><%= post.user.email %></td>
					<td><%= post.title %></td>
					<td><%= post.body %></td>
					<td><%= link_to "Read More", post_path(post), :class => 'btn btn-default' %></td>
						<% if current_user %>
							<% if current_user.admin? %>
								<td><button type="button" class="btn btn-primary" disabled>Answer</button>
<!-- 								<%= link_to "Delete", post_path(post), 
									method: :delete,
									data: {confirm: 'Are you sure?'},
								:class => 'btn btn-danger' %> -->
						<%end%>
					<%end%>
			</tr>
			<% end %>
		


  </tbody>
</table>

</div>


<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script>
$(document).ready(function(){
    $("#close").click(function(){
        $("#queue").hide();
        $("#button").hide();
    });
    $("#open").click(function(){
        $("#queue").show();
        $("#button").show();
    });
});
</script>



